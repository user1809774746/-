// vite.config.js
import { defineConfig } from "file:///E:/FE-GD-MCP/FE-LBX-005/node_modules/vite/dist/node/index.js";
import react from "file:///E:/FE-GD-MCP/FE-LBX-005/node_modules/@vitejs/plugin-react/dist/index.js";
import fs from "fs";
import path from "path";
var __vite_injected_original_dirname = "E:\\FE-GD-MCP\\FE-LBX-005";
var vite_config_default = defineConfig({
  plugins: [react()],
  server: {
    port: 3e3,
    host: "0.0.0.0",
    // 允许局域网访问
    strictPort: false,
    open: false,
    // HTTPS 配置 (如果证书文件存在则启用)
    https: (() => {
      const keyPath = path.resolve(__vite_injected_original_dirname, "./certs/example.com+1-key.pem");
      const certPath = path.resolve(__vite_injected_original_dirname, "./certs/example.com+1.pem");
      if (fs.existsSync(keyPath) && fs.existsSync(certPath)) {
        return {
          key: fs.readFileSync(keyPath),
          cert: fs.readFileSync(certPath)
        };
      }
      console.log("\u26A0\uFE0F  \u8BC1\u4E66\u6587\u4EF6\u672A\u627E\u5230\uFF0C\u4F7F\u7528HTTP\u6A21\u5F0F\u542F\u52A8");
      return false;
    })(),
    // 配置代理解决跨域问题
    proxy: {
      "/api": {
        target: "http://192.168.1.116:8081",
        // 后端API服务器地址
        changeOrigin: true,
        secure: false,
        configure: (proxy, _options) => {
          proxy.on("error", (err, _req, _res) => {
            console.log("\u{1F6A8} \u4EE3\u7406\u8FDE\u63A5\u9519\u8BEF:", err);
          });
          proxy.on("proxyReq", (proxyReq, req, _res) => {
            console.log("\u{1F4E4} \u4EE3\u7406\u8BF7\u6C42:", req.method, req.url, "\u2192", proxyReq.path);
          });
          proxy.on("proxyRes", (proxyRes, req, _res) => {
            console.log("\u{1F4E5} \u4EE3\u7406\u54CD\u5E94:", req.url, "\u2190", proxyRes.statusCode);
          });
        }
      }
    }
  },
  preview: {
    port: 4173,
    host: "0.0.0.0"
    // 允许局域网访问预览服务器
  }
});
export {
  vite_config_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsidml0ZS5jb25maWcuanMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImNvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9kaXJuYW1lID0gXCJFOlxcXFxGRS1HRC1NQ1BcXFxcRkUtTEJYLTAwNVwiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9maWxlbmFtZSA9IFwiRTpcXFxcRkUtR0QtTUNQXFxcXEZFLUxCWC0wMDVcXFxcdml0ZS5jb25maWcuanNcIjtjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfaW1wb3J0X21ldGFfdXJsID0gXCJmaWxlOi8vL0U6L0ZFLUdELU1DUC9GRS1MQlgtMDA1L3ZpdGUuY29uZmlnLmpzXCI7aW1wb3J0IHsgZGVmaW5lQ29uZmlnIH0gZnJvbSAndml0ZSdcclxuaW1wb3J0IHJlYWN0IGZyb20gJ0B2aXRlanMvcGx1Z2luLXJlYWN0J1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMnXHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXHJcblxyXG4vLyBodHRwczovL3ZpdGVqcy5kZXYvY29uZmlnL1xyXG5leHBvcnQgZGVmYXVsdCBkZWZpbmVDb25maWcoe1xyXG4gIHBsdWdpbnM6IFtyZWFjdCgpXSxcclxuICBzZXJ2ZXI6IHtcclxuICAgIHBvcnQ6IDMwMDAsXHJcbiAgICBob3N0OiAnMC4wLjAuMCcsIC8vIFx1NTE0MVx1OEJCOFx1NUM0MFx1NTdERlx1N0Y1MVx1OEJCRlx1OTVFRVxyXG4gICAgc3RyaWN0UG9ydDogZmFsc2UsXHJcbiAgICBvcGVuOiBmYWxzZSxcclxuICAgIC8vIEhUVFBTIFx1OTE0RFx1N0Y2RSAoXHU1OTgyXHU2NzlDXHU4QkMxXHU0RTY2XHU2NTg3XHU0RUY2XHU1QjU4XHU1NzI4XHU1MjE5XHU1NDJGXHU3NTI4KVxyXG4gICAgaHR0cHM6ICgoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGtleVBhdGggPSBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCAnLi9jZXJ0cy9leGFtcGxlLmNvbSsxLWtleS5wZW0nKTtcclxuICAgICAgY29uc3QgY2VydFBhdGggPSBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCAnLi9jZXJ0cy9leGFtcGxlLmNvbSsxLnBlbScpO1xyXG4gICAgICBcclxuICAgICAgaWYgKGZzLmV4aXN0c1N5bmMoa2V5UGF0aCkgJiYgZnMuZXhpc3RzU3luYyhjZXJ0UGF0aCkpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAga2V5OiBmcy5yZWFkRmlsZVN5bmMoa2V5UGF0aCksXHJcbiAgICAgICAgICBjZXJ0OiBmcy5yZWFkRmlsZVN5bmMoY2VydFBhdGgpXHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ1x1MjZBMFx1RkUwRiAgXHU4QkMxXHU0RTY2XHU2NTg3XHU0RUY2XHU2NzJBXHU2MjdFXHU1MjMwXHVGRjBDXHU0RjdGXHU3NTI4SFRUUFx1NkEyMVx1NUYwRlx1NTQyRlx1NTJBOCcpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9KSgpLFxyXG4gICAgLy8gXHU5MTREXHU3RjZFXHU0RUUzXHU3NDA2XHU4OUUzXHU1MUIzXHU4REU4XHU1N0RGXHU5NUVFXHU5ODk4XHJcbiAgICBwcm94eToge1xyXG4gICAgICAnL2FwaSc6IHtcclxuICAgICAgICB0YXJnZXQ6ICdodHRwOi8vMTkyLjE2OC4xLjExNjo4MDgxJywgLy8gXHU1NDBFXHU3QUVGQVBJXHU2NzBEXHU1MkExXHU1NjY4XHU1NzMwXHU1NzQwXHJcbiAgICAgICAgY2hhbmdlT3JpZ2luOiB0cnVlLFxyXG4gICAgICAgIHNlY3VyZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJlOiAocHJveHksIF9vcHRpb25zKSA9PiB7XHJcbiAgICAgICAgICBwcm94eS5vbignZXJyb3InLCAoZXJyLCBfcmVxLCBfcmVzKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdURFQTggXHU0RUUzXHU3NDA2XHU4RkRFXHU2M0E1XHU5NTE5XHU4QkVGOicsIGVycik7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHByb3h5Lm9uKCdwcm94eVJlcScsIChwcm94eVJlcSwgcmVxLCBfcmVzKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdcdUQ4M0RcdURDRTQgXHU0RUUzXHU3NDA2XHU4QkY3XHU2QzQyOicsIHJlcS5tZXRob2QsIHJlcS51cmwsICdcdTIxOTInLCBwcm94eVJlcS5wYXRoKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgcHJveHkub24oJ3Byb3h5UmVzJywgKHByb3h5UmVzLCByZXEsIF9yZXMpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1x1RDgzRFx1RENFNSBcdTRFRTNcdTc0MDZcdTU0Q0RcdTVFOTQ6JywgcmVxLnVybCwgJ1x1MjE5MCcsIHByb3h5UmVzLnN0YXR1c0NvZGUpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuICBwcmV2aWV3OiB7XHJcbiAgICBwb3J0OiA0MTczLFxyXG4gICAgaG9zdDogJzAuMC4wLjAnIC8vIFx1NTE0MVx1OEJCOFx1NUM0MFx1NTdERlx1N0Y1MVx1OEJCRlx1OTVFRVx1OTg4NFx1ODlDOFx1NjcwRFx1NTJBMVx1NTY2OFxyXG4gIH1cclxufSlcclxuIl0sCiAgIm1hcHBpbmdzIjogIjtBQUE2UCxTQUFTLG9CQUFvQjtBQUMxUixPQUFPLFdBQVc7QUFDbEIsT0FBTyxRQUFRO0FBQ2YsT0FBTyxVQUFVO0FBSGpCLElBQU0sbUNBQW1DO0FBTXpDLElBQU8sc0JBQVEsYUFBYTtBQUFBLEVBQzFCLFNBQVMsQ0FBQyxNQUFNLENBQUM7QUFBQSxFQUNqQixRQUFRO0FBQUEsSUFDTixNQUFNO0FBQUEsSUFDTixNQUFNO0FBQUE7QUFBQSxJQUNOLFlBQVk7QUFBQSxJQUNaLE1BQU07QUFBQTtBQUFBLElBRU4sUUFBUSxNQUFNO0FBQ1osWUFBTSxVQUFVLEtBQUssUUFBUSxrQ0FBVywrQkFBK0I7QUFDdkUsWUFBTSxXQUFXLEtBQUssUUFBUSxrQ0FBVywyQkFBMkI7QUFFcEUsVUFBSSxHQUFHLFdBQVcsT0FBTyxLQUFLLEdBQUcsV0FBVyxRQUFRLEdBQUc7QUFDckQsZUFBTztBQUFBLFVBQ0wsS0FBSyxHQUFHLGFBQWEsT0FBTztBQUFBLFVBQzVCLE1BQU0sR0FBRyxhQUFhLFFBQVE7QUFBQSxRQUNoQztBQUFBLE1BQ0Y7QUFFQSxjQUFRLElBQUksd0dBQXdCO0FBQ3BDLGFBQU87QUFBQSxJQUNULEdBQUc7QUFBQTtBQUFBLElBRUgsT0FBTztBQUFBLE1BQ0wsUUFBUTtBQUFBLFFBQ04sUUFBUTtBQUFBO0FBQUEsUUFDUixjQUFjO0FBQUEsUUFDZCxRQUFRO0FBQUEsUUFDUixXQUFXLENBQUMsT0FBTyxhQUFhO0FBQzlCLGdCQUFNLEdBQUcsU0FBUyxDQUFDLEtBQUssTUFBTSxTQUFTO0FBQ3JDLG9CQUFRLElBQUksbURBQWMsR0FBRztBQUFBLFVBQy9CLENBQUM7QUFDRCxnQkFBTSxHQUFHLFlBQVksQ0FBQyxVQUFVLEtBQUssU0FBUztBQUM1QyxvQkFBUSxJQUFJLHVDQUFZLElBQUksUUFBUSxJQUFJLEtBQUssVUFBSyxTQUFTLElBQUk7QUFBQSxVQUNqRSxDQUFDO0FBQ0QsZ0JBQU0sR0FBRyxZQUFZLENBQUMsVUFBVSxLQUFLLFNBQVM7QUFDNUMsb0JBQVEsSUFBSSx1Q0FBWSxJQUFJLEtBQUssVUFBSyxTQUFTLFVBQVU7QUFBQSxVQUMzRCxDQUFDO0FBQUEsUUFDSDtBQUFBLE1BQ0Y7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQUFBLEVBQ0EsU0FBUztBQUFBLElBQ1AsTUFBTTtBQUFBLElBQ04sTUFBTTtBQUFBO0FBQUEsRUFDUjtBQUNGLENBQUM7IiwKICAibmFtZXMiOiBbXQp9Cg==
