# 解决404错误 - 快速指南

## ❌ 当前问题

```
404 Not Found
Workflow not found with id: 3d53d609-922a-42bc-92ff-3807de965a31
```

---

## 💡 快速决策

### 我想现在就使用应用 → **方案A**
**不配置AI，使用默认数据**
- ⏱️ 耗时：0分钟（已经配置好）
- ✅ 功能：完全正常
- ✅ 数据：使用预设路线

### 我想使用AI生成真实路线 → **方案B**
**配置Dify工作流**
- ⏱️ 耗时：15-30分钟
- ✅ 功能：AI智能规划
- ✅ 数据：动态生成

---

## 方案A：使用默认数据（推荐新手）

### ✅ 当前已配置完成！

**无需任何操作**，直接使用：

1. 访问：http://localhost:3001/
2. 登录应用
3. 输入出发地和目的地
4. 选择出行方式
5. 点击"一键规划路线"
6. 查看预设的路线方案

**预设数据包括**：
- 🚇 地铁：最快35分钟，最省钱52分钟
- 🚶 步行：最快1小时20分，最省钱1小时50分
- 🚴 骑行：最快35分钟，最省钱40分钟
- 🚗 自驾：最快20分钟，最省钱30分钟
- 🛵 电动车：最快30分钟，最省钱45分钟

**优点**：
- ✅ 立即可用
- ✅ 稳定可靠
- ✅ 无需配置
- ✅ 免费

**缺点**：
- ⚠️ 数据是预设的
- ⚠️ 不是真实路线

---

## 方案B：配置AI功能（推荐高级用户）

### 📋 准备工作

1. **注册Dify账号**
   - 访问：https://cloud.dify.ai/
   - 注册免费账号
   - 或使用已有账号

2. **准备时间**
   - 首次配置：20-30分钟
   - 已熟悉Dify：10分钟

### 🔨 配置步骤

#### 第1步：创建工作流（5分钟）
```
登录Dify → 创建应用 → 选择"工作流" → 命名"路线规划助手"
```

#### 第2步：配置节点（10分钟）

**开始节点**：
- 添加输入变量：`query` (文本类型)

**LLM节点**：
- 选择AI模型（GPT-4/Claude/通义千问）
- 粘贴提示词（见下方）
- 连接到开始节点

**结束节点**：
- 输出LLM结果
- 连接到LLM节点

**提示词**（复制粘贴）：
```
你是一个智能路线规划助手。

用户查询：{{#start.query#}}

请根据用户的查询生成两种路线方案：
1. 最快路线方案
2. 最省钱方案

请严格按照以下JSON格式返回，不要包含任何其他文字：

{
  "fastest": {
    "time": "时间：XX分钟",
    "description": "详细路线：...",
    "cost": "花费：￥XX.XX"
  },
  "cheapest": {
    "time": "时间：XX分钟",
    "description": "详细路线：...",
    "cost": "花费：￥XX.XX"
  }
}

格式要求：
- time格式：时间：XX分钟 或 时间：X小时XX分钟
- description：详细描述路线
- cost格式：花费：￥XX.XX 或 花费：免费
- 必须返回有效的JSON格式
```

#### 第3步：测试工作流（3分钟）

点击"运行"，输入：
```
我要通过自驾从北京到上海，给我生成两个方案：一个是最快路线方案一个是最省钱方案。需要的方案数据是：时间，详细路线，花费
```

检查输出是否为JSON格式。

#### 第4步：发布并获取凭证（2分钟）

1. 点击"发布"
2. 点击"访问API"
3. 复制：
   - 工作流ID（URL中的一串ID）
   - API密钥（app-开头）

#### 第5步：更新配置（2分钟）

编辑 `src/config/aiConfig.js`：

```javascript
const aiConfig = {
  enabled: true,  // 改为 true
  workflowId: '粘贴您的工作流ID',
  apiKey: 'app-粘贴您的API密钥',
  // ...
};
```

保存文件。

#### 第6步：测试（2分钟）

```bash
node test-api.js
```

看到 ✅ 成功 即可。

### 🎯 配置后效果

- ✅ AI动态生成路线
- ✅ 根据实际情况规划
- ✅ 智能推荐
- ✅ 数据更准确

---

## 📊 方案对比

| 特性 | 方案A（默认数据） | 方案B（AI生成） |
|------|------------------|----------------|
| 配置时间 | 0分钟 ✅ | 20-30分钟 |
| 技术要求 | 无 ✅ | 需要Dify账号 |
| 数据准确性 | 预设数据 | AI智能生成 ✅ |
| 功能完整性 | 完整 ✅ | 完整 ✅ |
| 费用 | 免费 ✅ | Dify有免费额度 |
| 推荐人群 | 新手、测试 | 高级用户、生产 |

---

## 🚀 我的建议

### 如果您是：

**第一次使用 / 只是测试**
→ 选择 **方案A**
- 直接使用默认数据
- 体验所有功能
- 稍后再配置AI

**需要真实数据 / 生产环境**
→ 选择 **方案B**
- 花20分钟配置Dify
- 获得AI智能规划
- 数据更准确

**不确定 / 想先试试**
→ 选择 **方案A**
- 先用默认数据测试
- 满意后再配置AI
- 随时可以切换

---

## 📚 详细文档

- **Dify配置图文指南.md** - 图文详解（强烈推荐！）
- **快速开始-AI配置.md** - 3步快速配置
- **Dify工作流配置指南.md** - 完整配置手册
- **更新配置-模板.txt** - 配置文件模板

---

## ✨ 总结

### 当前状态：
- ✅ 应用正常运行
- ✅ 使用默认路线数据
- ✅ 所有功能可用
- ⚠️ AI功能未启用（避免404错误）

### 您的选择：

**🎯 立即使用** → 无需任何操作，直接访问应用

**🚀 配置AI** → 阅读 `Dify配置图文指南.md` 开始配置

---

**两种方案都很好，根据您的需求选择！** 😊

