# 📱 快速开始 - 手机访问指南

## 🚀 最简单的方法

### Windows 用户
1. **双击运行** `start-mobile.bat`
2. 等待服务器启动
3. 在手机浏览器中输入显示的地址（例如：`http://192.168.1.100:3000`）

### Mac/Linux 用户
1. **打开终端**，进入项目目录
2. 运行以下命令：
   ```bash
   chmod +x start-mobile.sh
   ./start-mobile.sh
   ```
3. 在手机浏览器中输入显示的地址

---

## 📋 详细步骤

### 第一步：确保环境准备好
```bash
# 安装依赖（首次使用）
npm install
```

### 第二步：启动服务器

**方法1：使用快捷脚本（推荐）**
- Windows: 双击 `start-mobile.bat`
- Mac/Linux: 运行 `./start-mobile.sh`

**方法2：手动启动**
```bash
npm run dev
```

### 第三步：获取访问地址

服务器启动后，终端会显示：
```
➜  Local:   http://localhost:3000/
➜  Network: http://192.168.1.100:3000/
```

**使用 `Network` 后面的地址！**

### 第四步：手机访问

1. **确保手机和电脑连接同一个WiFi**
2. 打开手机浏览器（推荐Chrome）
3. 输入地址：`http://192.168.1.100:3000`（替换为你的实际地址）
4. 看到登录页面就成功了！🎉

---

## ✅ 登录时效说明

### 已实现的功能
✅ **未登录时自动显示登录页面**  
✅ **登录有效期7天（一周）**  
✅ **超过7天自动退出登录**  
✅ **会提示"登录已过期，请重新登录"**

### 登录流程
```
首次打开 → 显示登录页面
    ↓
登录成功 → 记录登录时间 → 进入首页
    ↓
再次打开（7天内）→ 直接进入首页
    ↓
再次打开（超过7天）→ 自动退出 → 显示登录页面 + 提示过期
```

---

## 🔑 测试账号

**演示验证码：** `123456`  
**密码：** 任意6位以上字符

---

## 🎯 功能测试清单

在手机上测试以下功能：

- [ ] ✅ 登录页面正常显示
- [ ] ✅ 密码登录/验证码登录切换
- [ ] ✅ 验证码倒计时（60秒）
- [ ] ✅ 密码显示/隐藏切换
- [ ] ✅ 注册功能
- [ ] ✅ 首页路线规划
- [ ] ✅ Leaflet地图
- [ ] ✅ 高德地图搜索
- [ ] ✅ 退出登录
- [ ] ✅ 7天后自动退出

---

## ❓ 常见问题

### Q1: 手机无法访问？
**解决方案：**
1. ✅ 检查手机和电脑是否在同一WiFi
2. ✅ 检查IP地址是否正确
3. ✅ 尝试关闭电脑防火墙
4. ✅ 确保使用 `http://` 而不是 `https://`

**Windows防火墙设置：**
```
控制面板 → Windows Defender 防火墙 
→ 允许应用通过防火墙 
→ 允许Node.js
```

### Q2: 地址栏显示什么？
正确格式：
```
http://192.168.1.100:3000
```

❌ 错误示例：
- `localhost:3000` （这是电脑本地地址）
- `127.0.0.1:3000` （这也是本地地址）
- `https://...` （不要用https）

### Q3: 服务器启动失败？
可能原因：
1. 端口被占用 → 修改 `vite.config.js` 中的端口号
2. 依赖未安装 → 运行 `npm install`
3. Node.js版本过低 → 升级到 Node.js 16+

### Q4: 如何修改登录过期时间？
编辑 `src/App.jsx` 文件：

```javascript
// 第22行，修改这个值
const oneWeekInMs = 7 * 24 * 60 * 60 * 1000  // 当前是7天

// 修改为其他时间：
const threeDaysInMs = 3 * 24 * 60 * 60 * 1000    // 3天
const oneDayInMs = 1 * 24 * 60 * 60 * 1000       // 1天
const twelveHoursInMs = 12 * 60 * 60 * 1000      // 12小时
```

---

## 🌐 外网访问（可选）

如果你想从外网访问（不在同一WiFi），可以使用：

### 方法1：ngrok（推荐）
```bash
# 安装ngrok
# 访问 https://ngrok.com/ 下载

# 启动
npm run dev
ngrok http 3000
```

会生成一个公网链接：`https://xxxx.ngrok.io`

### 方法2：部署到云服务器
```bash
# 使用Vercel（免费）
npm install -g vercel
vercel
```

会生成永久链接：`https://your-project.vercel.app`

---

## 📊 网络检查工具

### 检查电脑IP（Windows）
```bash
ipconfig
```
找到 `IPv4 地址`

### 检查电脑IP（Mac/Linux）
```bash
ifconfig
# 或
ip addr
```

### 检查端口是否开放
```bash
netstat -ano | findstr :3000
```

---

## 💡 性能提示

### 开发模式 vs 生产模式

**当前是开发模式：**
- 速度较慢
- 适合调试
- 热更新

**切换到生产模式：**
```bash
npm run build
npm run preview
```
- 速度快3-5倍
- 文件更小
- 更稳定

---

## 🎨 移动端优化建议

项目已针对移动端优化：
- ✅ 响应式设计
- ✅ 触摸友好的UI
- ✅ 移动端表单优化
- ✅ 适配小屏幕

---

## 📞 需要帮助？

1. 查看 `使用说明.md` - 完整的使用指南
2. 查看 `手机端访问指南.md` - 详细的部署方法
3. 查看 `REFACTOR_NOTES.md` - 技术文档

---

## 🎯 开始使用

**Windows:**
```bash
双击 start-mobile.bat
```

**Mac/Linux:**
```bash
chmod +x start-mobile.sh
./start-mobile.sh
```

然后在手机浏览器输入显示的地址即可！

---

**祝你使用愉快！** 🎉


